# This software is licensed under NNCL v1.3 see LICENSE.md for more info
# Example environment configuration for Discord Sanitizer Bot.
# Copy to ".env" and adjust values for your environment. Do not commit real secrets.

# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! #
# BY USING/HOSTING THIS BOT YOU AGREE TO THE FOLLOWING DOCUMENTS: #
# https://nnsb.namelessnanashi.dev/TermsOfService                 #
# https://nnsb.namelessnanashi.dev/PrivacyPolicy                  #
# https://nnsb.namelessnanashi.dev/license                        #
# !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! #

# Discord bot token - obtain from the Developer Portal and keep secret.
DISCORD_TOKEN=replace_with_your_bot_token

# Numeric Discord user ID considered the bot owner (authorizes owner-only commands).
OWNER_ID=221701506561212416

# PostgreSQL container credentials (used by the db service).
# Ensure they are secure and not guessable in production environments.
# ONCE SET, DO NOT CHANGE THESE VALUES UNLESS YOU KNOW WHAT YOU ARE DOING.
POSTGRES_DB=bot # Don't change this
# It is recommended to use a random username like one made with the command below:
# LEN=32; BYTES=$((((LEN+3)/4)*3)); openssl rand -base64 "$BYTES" | tr '+/' '-_' | tr -d '\n=' | head -c "$LEN"; echo
POSTGRES_USER=ChangeMe
# It is recommended to use a random password like one made with the command below:
# LEN=128; BYTES=$((((LEN+3)/4)*3)); openssl rand -base64 "$BYTES" | tr '+/' '-_' | tr -d '\n=' | head -c "$LEN"; echo
POSTGRES_PASSWORD=ChangeMe2

# Application (client) ID used to generate invite links. Optional but recommended.
APPLICATION_ID=0

# Policy defaults (can be overridden per-guild via slash commands).
CHECK_LENGTH=0
MIN_NICK_LENGTH=3
MAX_NICK_LENGTH=32
PRESERVE_SPACES=true
COOLDOWN_SECONDS=30
SANITIZE_EMOJI=true
ENFORCE_BOTS=false
FALLBACK_MODE=default
FALLBACK_LABEL="Illegal Name"

## Retention for per-user cooldown entries; older entries are purged automatically.
COOLDOWN_TTL_SEC=864000

# Background sweep configuration.
SWEEP_INTERVAL_SEC=60

# Whether the bot should DM the owner when it joins or leaves a guild.
# Set to false to disable owner notifications for these events.
DM_OWNER_ON_GUILD_EVENTS=true

# Whether the bot should DM the owner when errors occur that trigger DnD (red) status.
# This includes database failures, status file issues, and runtime errors.
# Set to false to disable error notifications.
DM_OWNER_ON_ERRORS=true

# Global per-user command cooldown (in seconds). Set to 0 to disable.
# Owner and bot admins bypass this cooldown.
COMMAND_COOLDOWN_SECONDS=2

# Cooldown for destructive owner commands (in seconds).
OWNER_DESTRUCTIVE_COOLDOWN_SECONDS=5

# Debug mode - Enable detailed output of bot actions for debugging.
# Set to true to output more guild info to terminal; false (default) logs only counts for privacy.
DEBUG_MODE=false

# Telemetry (privacy-respecting census)
# You can see the data here: https://telemetry.namelessnanashi.dev/
# Enabled by default; disable by setting opt-out to true.
# If you dont mind I would apprecieate self-hosters allowing this data collection
# to help improve the bot service for everyone.
# Preferred flag to disable the census entirely (1/true/yes/on):
NNSB_TELEMETRY_OPTOUT=0
# Alternative opt-out variable (also supported):
TELEMETRY_OPTOUT=0
# Override the telemetry endpoint (leave unset to use the default):
# TELEMETRY_ENDPOINT=https://telemetry.namelessnanashi.dev/census

# Where to store the stable (local) telemetry instance id file.
# Use a bind-mounted or named volume directory in containers for persistence.
# TELEMETRY_STATE_FILE=/app/data/.telemetry_id
# TELEMETRY_STATE_DIR=/app/data

# Log verbosity for the process (DEBUG, INFO, WARNING, ERROR).
LOG_LEVEL=INFO
